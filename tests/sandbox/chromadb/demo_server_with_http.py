# Generated by Copilot
"""
Demo ChromaDB v·ªõi HTTP Server
C·∫ßn ch·∫°y ChromaDB server tr∆∞·ªõc:
uv run chroma run --host localhost --port 8000
"""
import asyncio
import chromadb


async def main():
    """Demo ChromaDB v·ªõi AsyncHttpClient (c·∫ßn server)"""
    try:
        # K·∫øt n·ªëi t·ªõi ChromaDB server
        client = await chromadb.AsyncHttpClient(host="localhost", port=8000)

        # T·∫°o collection
        collection = await client.create_collection(name="my_http_collection")
        await collection.add(documents=["hello world from HTTP"], ids=["http_id1"])

        print("‚úÖ ƒê√£ t·∫°o collection v√† th√™m document th√†nh c√¥ng qua HTTP!")

        # Ki·ªÉm tra d·ªØ li·ªáu
        results = await collection.get()
        print(f"üìä D·ªØ li·ªáu trong collection: {results}")

    except Exception as e:
        print(f"‚ùå L·ªói k·∫øt n·ªëi ChromaDB server: {e}")
        print("üí° H√£y ch·∫°y: uv run chroma run --host localhost --port 8000")


if __name__ == "__main__":
    asyncio.run(main())
